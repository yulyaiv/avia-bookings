# SQL-проект: Бронирование авиабилетов

## Описание проекта

Проект посвящён анализу реляционной базы данных, моделирующей процесс бронирования авиабилетов.  
Цель — изучить структуру БД, построить диаграмму связей и написать SQL-запросы для извлечения бизнес-метрик.

---

## Цели и задачи

- Ознакомиться со структурой базы данных (таблицы, связи, ключи)
- Создать ER-диаграмму для визуализации модели данных
- Написать SQL-запросы для анализа бронирований, пассажиров и рейсов
- Определить основные метрики: количество бронирований, загрузка рейсов, предпочтения клиентов

---

## Используемые технологии

- SQL (PostgreSQL)
- DBeaver — для визуализации

---

## Структура проекта

avia-bookings/
├── database_description.pdf # описание структуры БД
├── er_diagram.png # ER-диаграмма базы данных
├── final_work.sql # SQL-запросы
└── README.md # описание проекта


---

## Задания:
1. Выведите название самолетов, которые имеют менее 50 посадочных мест
2. Выведите названия самолетов не имеющих бизнес - класс. Решение должно быть через функцию array_agg.
3. Найдите процентное соотношение перелетов по маршрутам от общего количества перелетов.
 Выведите в результат названия аэропортов и процентное отношение.
 Решение должно быть через оконную функцию.
4. Выведите количество пассажиров по каждому коду сотового оператора, если учесть, что код оператора - это три символа после +7
5. Классифицируйте финансовые обороты (сумма стоимости перелетов) по маршрутам:

 До 50 млн - low
 
 От 50 млн включительно до 150 млн - middle
 
 От 150 млн включительно - high
 
 Выведите в результат количество маршрутов в каждом полученном классе
7. Вычислите медиану стоимости перелетов, медиану размера бронирования и отношение медианы бронирования к медиане стоимости перелетов, округленной до сотых
8. Найдите значение минимальной стоимости полета 1 км для пассажиров. То есть нужно найти расстояние между аэропортами и с учетом стоимости перелетов получить искомый результат
 





